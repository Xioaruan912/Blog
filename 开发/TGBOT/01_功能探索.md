# 设置代理

```python

import telegram
from colorama import init
from ults.read_config import read_bot_config
from telegram import Update
from telegram.ext import ApplicationBuilder, CommandHandler , ContextTypes,MessageHandler
from loguru import logger
BOT_API_HASH ,BOT_TOKEN, PROXY = read_bot_config()
PROXY = "socks5://" + PROXY


async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    logger.info("访问start命令。。。")
    await context.bot.send_message(chat_id=update.effective_chat.id, text="MYCLASHT测速机器人") # type: ignore

async def unknown(update: Update, context: ContextTypes.DEFAULT_TYPE):
    logger.info("访问不知道的命令。。。")
    await context.bot.send_message(chat_id=update.effective_chat.id, text="No!!!!") # type: ignore


def init_bot():
    app = (ApplicationBuilder()
           .token(BOT_TOKEN)
           .proxy(PROXY)
           .get_updates_proxy(PROXY)
           .build()) # type: ignore
    logger.info("APP构建完毕。。。等待输入")
    start_handl = CommandHandler('start', start)
    # unknown_handler = MessageHandler(filters.COMMAND, unknown)
    app.add_handler(start_handl)
    # app.add_handler(unknown_handler)
    app.run_polling()


```

在构建app的时候 传入即可实现通过代理构建TGbot

# 定时任务

